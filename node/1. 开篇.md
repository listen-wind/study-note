## Node

### 特点

- 异步 I/O

- 事件与回调函数

- 单线程

  缺点：
  1. 无法利用多核 CPU

  2. 错误会引起整个应用退出，程序的健壮性值得考验

  3. 大量计算占用 CPU 导致无法调用异步 I/O

- 跨平台

### 模块

`node` 模块分为核心模块和文件模块

- 核心模块，编译进二进制文件中，读取速度快

- 文件模块加载需要路径分析，文件定位，编译执行过程，速度比核心模块慢

- 内建模块，纯使用C/C++编写的模块，最底层模块

使用`require`获取模块的时候，优先使用缓存文件（编译和执行之后的对象），使用缓存时优先读取核心模块，之后加载文件模块。

#### 模块路径

当引入一个模块没有确定的路径的时候（自定义模块），`node`查找模块会沿着模块路径查找

执行`module.paths`如下得到三个模块路径，查找模块的话会现在当前路径下查找，没有就去父目录查找，以此类推，直到根目录，所以自定义模块加载速度最慢。

```js
console.log(module.paths);

// 'F:\\app\\node\\node_modules'
// 'F:\\app\\node_modules'
// 'F:\\node_modules'
```

#### 文件定位

文件扩展名，node 模块加载时允许不添加文件扩展名，他会自动按照 `.js`, `.json`,`.node`次序补足扩展名

小诀窍

- 加载`json`和`node`文件时，添加文件后缀名

- 同步配合缓存，可以大幅度缓解Node单线程中阻塞式调用的缺陷
