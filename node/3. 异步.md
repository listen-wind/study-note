## 线程

- 单线程
  缺点：会造成阻塞，如果有一个比较耗时间的操作，那么会执行缓慢
  优点：易于编写

- 多线程
  优点：性能好
  缺点：不好处理多线程之间的消息通知，出现死锁，状态等问题。

## I/O（输入和输出）

非阻塞和异步不是同一回事，操作系统只有非阻塞一说。

非阻塞和阻塞之间的区别是，阻塞是在等操作完成之后返回，而非阻塞是调用之后立即返回，之后需要通过轮询查看操作是否完成，其实也是另类的阻塞

异步是实现非阻塞的一种方式

## 实现异步方法

- `setTimeout(func, 0)` 会动用红黑树，事件循环定时检查，询问红黑树是否到了执行时间，执行回调

- `process.nextTick()` 可以使操作异步执行，等同于`setTimeout(func, 0)`，但是使用定时器比较消耗性能，推荐使用此方法

- `setImmediate()` 类似于`process.nextTick()`，但是也有区别

  区别一： `process.nextTick()`会优先于`setImmediate()`执行

  区别二： `process.nextTick()`会统一执行所有的此操作，而`setImmediate()`一次循环只会执行一个回调

## 事件循环

`node` 中的异步方法，都会把回调函数生成一个对象注册到相应的观察者中生成事件，事件循环每次询问观察者是否有需要执行的回调，有就立即执行，没有就退出。

注：除了 JavaScript 是单线程外，node 其实是多线程的，I/O 异步，请求异步都是执行在其他线程，只是执行`javascript`是在一个线程中执行的。
